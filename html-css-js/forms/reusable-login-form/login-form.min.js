class LoginForm extends HTMLElement{constructor(){super();let t=this.attachShadow({mode:"open"}),e=document.createElement("template");e.innerHTML='<link rel="stylesheet" href="./login-form.css"><div id="loginFormContainer"><div id="loginFormHeader" class="font-login"><h2 id="formTitle">Login Form</h2><div id="loginFormImage"></div></div><form id="loginForm"><div class="form-group"><label for="username" class="font-login" id="usernameLabel">Username:</label><div class="form-input-group"><input id="username" name="username" class="form-input font-login-input" placeholder="Your Username"><div id="usernameError" class="error-message inactive">No errors</div></div></div><div class="form-group"><label for="password" class="font-login" id="passwordLabel">Password:</label><div class="form-input-group"><input id="password" name="password" class="form-input font-login-input" type="password" placeholder="Your Password"><div id="passwordError" class="error-message inactive">No errors</div></div></div><input id="loginBtn" name="loginBtn" class="loginBtn" type="submit" value="Login"><a id="registrationLink" href="" class="d-none">Register</a><a id="forgotPasswordLink" href="" class="d-none">Forgot Password</a></form></div>',t.appendChild(e.content.cloneNode(!0))}connectedCallback(){let t=this.getAttribute("title-font-color")||"#ffffff",e=this.getAttribute("font-color")||"#ffffff",o=this.getAttribute("bg-color")||"#808080",i=this.getAttribute("input-font-color")||"#808080",r=this.getAttribute("input-border-color")||"#00ffff",s=this.getAttribute("btn-color")||"#00ffff",n=this.getAttribute("btn-font-color")||"#808080",l=this.getAttribute("input-error-msg-color")||"#ff0000",a=this.getAttribute("forgot-password-link-color")||"#ffffff",d=this.getAttribute("registration-link-color")||"#ffffff",g=this.getAttribute("logo")||"loginLogo.png",m=this.getAttribute("img-height")||"150px",h=this.getAttribute("outer-padding")||"3rem",u=this.getAttribute("outer-padding-768")||"5rem 1rem 5rem 1rem",f=this.getAttribute("header-bottom-margin")||"3rem",p=this.getAttribute("fields-bottom-margin")||"2rem",c=this.getAttribute("min-width")||"60%",b=this.getAttribute("min-width-768")||"80%";this.style.setProperty("--login-form-title-font-color",t),this.style.setProperty("--login-form-font-color",e),this.style.setProperty("--login-form-bg-color",o),this.style.setProperty("--login-form-input-font",i),this.style.setProperty("--login-form-input-border-color",r),this.style.setProperty("--login-form-btn-color",s),this.style.setProperty("--login-form-btn-font-color",n),this.style.setProperty("--login-form-input-error-msg-color",l),this.style.setProperty("--login-form-forgot-password-link-color",a),this.style.setProperty("--login-form-registration-link-color",d),this.style.setProperty("--login-form-logo",`url(${g})`),this.style.setProperty("--login-form-img-height",m),this.style.setProperty("--login-form-outer-padding",h),this.style.setProperty("--login-form-outer-padding-768",u),this.style.setProperty("--login-form-header-bottom-margin",f),this.style.setProperty("--login-form-fields-bottom-margin",p),this.style.setProperty("--login-form-min-width",c),this.style.setProperty("--login-form-min-width-768",b),this.setupTextContents(),this.setupValidation();let y=this.getAttribute("registration-callback")||null;y&&this.setupRegistrationLink();let v=this.getAttribute("forgot-password-callback")||null;v&&this.setupForgotPassword()}setupTextContents(){let t=this.shadowRoot.getElementById("formTitle"),e=this.shadowRoot.getElementById("username"),o=this.shadowRoot.getElementById("password"),i=this.shadowRoot.getElementById("usernameLabel"),r=this.shadowRoot.getElementById("passwordLabel"),s=this.getAttribute("title"),n=this.getAttribute("username-placeholder"),l=this.getAttribute("password-placeholder"),a=this.getAttribute("username-label"),d=this.getAttribute("password-label");s?t.textContent=s:t.style.display="none",n&&(e.placeholder=n),l&&(o.placeholder=l),a&&(i.textContent=a),d&&(r.textContent=d)}setupValidation(){let t=this.shadowRoot.getElementById("loginForm"),e=this.shadowRoot.getElementById("username"),o=this.shadowRoot.getElementById("password"),i=this.shadowRoot.getElementById("usernameError"),r=this.shadowRoot.getElementById("passwordError"),s=this.getAttribute("form-action"),n=this.getAttribute("form-method"),l=this.getAttribute("onsubmit");s&&t.setAttribute("action",s),n&&t.setAttribute("method",n);let a=this;t.addEventListener("submit",function(t){let s=!0;if(i.textContent="",r.textContent="",""===e.value.trim()){let n=a.getAttribute("username-label");n?i.textContent=`${n} is required`:i.textContent="Username is required",i.classList.remove("inactive"),i.classList.add("active"),s=!1}else i.textContent="No errors",i.classList.remove("active"),i.classList.add("inactive");if(""===o.value.trim()){let d=a.getAttribute("password-label");d?r.textContent=`${d} is required`:r.textContent="Password is required",r.classList.remove("inactive"),r.classList.add("active"),s=!1}else r.textContent="No errors",r.classList.remove("active"),r.classList.add("inactive");if(s){if(l&&"function"==typeof window[l]){t.preventDefault();let g=this.getAttribute("username-label")||"username",m=this.getAttribute("password-label")||"password";t[g]=e.value,t[m]=o.value,window[l].call(this,t)}}else t.preventDefault()})}setupRegistrationLink(){let t=this.shadowRoot.getElementById("registrationLink");t.classList.remove("d-none");let e=this.getAttribute("registration-callback")||"#",o=this.getAttribute("registration-text")||"Register";t.textContent=o,e&&"function"==typeof window[e]?t.addEventListener("click",t=>{t.preventDefault(),window[e].call(this,{})}):t.href=e}setupForgotPassword(){let t=this.shadowRoot.getElementById("forgotPasswordLink");t.classList.remove("d-none");let e=this.getAttribute("forgot-password-callback")||"#",o=this.getAttribute("forgot-password-text")||"Forgot Password",i=this.shadowRoot.getElementById("username"),r=this.getAttribute("username-label")||"username";t.textContent=o,e&&"function"==typeof window[e]?t.addEventListener("click",t=>{t.preventDefault(),t[r]=i.value,window[e].call(this,t)}):t.href=e}}customElements.define("login-form",LoginForm);